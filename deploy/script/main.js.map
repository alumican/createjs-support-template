{"version":3,"sources":["../src/script/var/Config.ts","../src/script/job/Application.ts","../src/script/view/Screen.ts","../src/script/view/background/Background.ts","../src/script/view/background/Circle.ts","../src/script/view/foreground/Foreground.ts","../src/script/main.ts"],"names":["project","Config","DEBUG_MODE","DEFAULT_STAGE_W","DEFAULT_STAGE_H","FPS","Application","_this","this","tickerHandler","event","update","resizeWatcherResizeHandler","resize","scrollWatcherResizeHandler","keyWatcherResizeHandler","console","log","key","prototype","run","$canvas","jQuery","stage","createjs","Stage","get","Ticker","framerate","addEventListener","stats","Stats","append","domElement","screen","Screen","addChild","getView","alm","ResizeWatcher","ResizeWatcherEvent","RESIZE","ScrollWatcher","ScrollWatcherEvent","SCROLL","KeyWatcher","KeyWatcherEvent","KEY_DOWN","load","apply","ready","show","css","display","start","begin","end","stageWidth","getStageWidth","stageHeight","getStageHeight","attr","width","height","_super","call","initialize","__extends","implInitialize","view","Container","background","Background","foreground","Foreground","implReady","implFinalize","finalize","implShow","useTransition","cmd","Serial","Func","visible","Parallel","getShowCommand","implHide","getHideCommand","View","circles","circle","i","Circle","push","numCircle","length","CommandUtil","fadeIn","Easing","easeOutQuart","hide","fadeOut","scrollWatcherScrollHandler","y","calcScrolledPosition","offsetY","scrolledPositionRatio","calcScrolledPositionRatio","Shape","radius","Num","random","g","graphics","beginFill","Math","floor","substr","drawCircle","endFill","offsetX","getContentWidth","getContentHeight","x","removeEventListener","alpha"],"mappings":"+UAEOA,SAAP,SAAOA,GAEN,IAAAC,EAAA,WAWA,OAXA,gBAGeA,EAAAC,YAAqB,EAGrBD,EAAAE,gBAAyB,KACzBF,EAAAG,gBAAyB,KAGzBH,EAAAI,IAAa,GAVfL,EAAAC,OAAMA,GAFbD,UAAAA,aCAP,IAAUA,SAAV,SAAUA,GAET,IAAAM,EAAA,WAQC,SAAAA,IAAA,IAAAC,EAAAC,KA6EQA,KAAAC,cAAgB,SAACC,GACxBH,EAAKI,UAGEH,KAAAI,2BAA6B,SAACF,GACrCH,EAAKM,UAGEL,KAAAM,2BAA6B,SAACJ,KAG9BF,KAAAO,wBAA0B,SAACL,GAClCM,QAAQC,IAAI,6BAA+BP,EAAMQ,IAAM,MAgBzD,OA5FQZ,EAAAa,UAAAC,IAAP,WACCJ,QAAQC,IAAI,qBAGZT,KAAKa,QAAUC,OAAO,UACtBd,KAAKe,MAAQ,IAAIC,SAASC,MAAMjB,KAAKa,QAAQK,IAAI,IAGjDF,SAASG,OAAOC,UAAY5B,EAAAC,OAAOI,IACnCmB,SAASG,OAAOE,iBAAiB,OAAQrB,KAAKC,eAG1CT,EAAAC,OAAOC,aACVM,KAAKsB,MAAQ,IAAIC,MACjBT,OAAO,QAAQU,OAAOxB,KAAKsB,MAAMG,aAIlCzB,KAAK0B,OAAS,IAAIlC,EAAAmC,OAClB3B,KAAKe,MAAMa,SAAS5B,KAAK0B,OAAOG,WAGhCC,IAAIC,cAAcV,iBAAiBS,IAAIE,mBAAmBC,OAAQjC,KAAKI,4BACvE0B,IAAII,cAAcb,iBAAiBS,IAAIK,mBAAmBC,OAAQpC,KAAKM,4BACvEwB,IAAIO,WAAWhB,iBAAiBS,IAAIQ,gBAAgBC,SAAUvC,KAAKO,yBAEnEP,KAAKwC,QAGE1C,EAAAa,UAAA6B,KAAR,WACCV,IAAIC,cAAcU,QAClBX,IAAII,cAAcO,QAElBzC,KAAK0B,OAAOgB,QAEZ1C,KAAK0B,OAAOiB,OACZ3C,KAAKa,QAAQ+B,KAAMC,QAAS,UAE5Bf,IAAIC,cAAce,QAClBhB,IAAII,cAAcY,QAClBhB,IAAIO,WAAWS,QAEf9C,KAAKI,2BAA2B,MAChCJ,KAAKC,cAAc,OAGZH,EAAAa,UAAAR,OAAR,WACKX,EAAAC,OAAOC,YAAYM,KAAKsB,MAAMyB,QAClC/C,KAAKe,MAAMZ,SACPX,EAAAC,OAAOC,YAAYM,KAAKsB,MAAM0B,OAG3BlD,EAAAa,UAAAN,OAAR,WACC,IAAM4C,EAAoBnB,IAAIC,cAAcmB,gBACtCC,EAAqBrB,IAAIC,cAAcqB,iBAE7CpD,KAAKa,QAAQwC,MAAOC,MAAOL,EAAYM,OAAQJ,IAC/CnD,KAAKa,QAAQ+B,KAAMU,MAAOL,EAAYM,OAAQJ,KAmChDrD,KAjHaN,EAAAM,YAAWA,GAFfN,UAAAA,aCAV,IAAOA,SAAP,SAAOA,GAEN,IAAAmC,EAAA,SAAA6B,GAQC,SAAA7B,IAAA,IAAA5B,EACCyD,EAAAC,KAAAzD,OAAOA,YACPD,EAAK2D,eAuEP,OAjF4BC,UAAAhC,EAAA6B,GAuBjB7B,EAAAhB,UAAAiD,eAAV,WACC,IAAMC,EAA0B,IAAI7C,SAAS8C,UAQ7C,OANA9D,KAAK+D,WAAa,IAAIvE,EAAAwE,WACtBH,EAAKjC,SAAS5B,KAAK+D,WAAWlC,WAE9B7B,KAAKiE,WAAa,IAAIzE,EAAA0E,WACtBL,EAAKjC,SAAS5B,KAAKiE,WAAWpC,WAEvBgC,GAGElC,EAAAhB,UAAAwD,UAAV,WACCnE,KAAK+D,WAAWrB,QAChB1C,KAAKiE,WAAWvB,SAGPf,EAAAhB,UAAAyD,aAAV,WACCpE,KAAKiE,WAAWI,WAChBrE,KAAK+D,WAAWM,YAGP1C,EAAAhB,UAAA2D,SAAV,SAAmBT,EAAyBU,GAC3C,OAAO,IAAIC,IAAIC,OACd,IAAID,IAAIE,KAAK,WACZb,EAAKc,SAAU,IAEhB,IAAIH,IAAII,SACP5E,KAAKiE,WAAWY,eAAeN,GAC/BvE,KAAK+D,WAAWc,eAAeN,MAKxB5C,EAAAhB,UAAAmE,SAAV,SAAmBjB,EAAyBU,GAC3C,OAAO,IAAIC,IAAIC,OACd,IAAID,IAAII,SACP5E,KAAKiE,WAAWc,eAAeR,GAC/BvE,KAAK+D,WAAWgB,eAAeR,IAEhC,IAAIC,IAAIE,KAAK,WACZb,EAAKc,SAAU,MAiBnBhD,GAjF4BG,IAAIkD,MAAnBxF,EAAAmC,OAAMA,GAFbnC,UAAAA,aCAP,IAAOA,SAAP,SAAOA,GAEN,IAAAwE,EAAA,SAAAR,GAQC,SAAAQ,IAAA,IAAAjE,EACCyD,EAAAC,KAAAzD,OAAOA,YACPD,EAAK2D,eA6EP,OAvFgCC,UAAAK,EAAAR,GAuBrBQ,EAAArD,UAAAiD,eAAV,WACC,IAAMC,EAA0B,IAAI7C,SAAS8C,UAE7C9D,KAAKiF,WAGL,IAAK,IADDC,EACKC,EAAW,EAAGA,EAFE,MAEeA,EACvCD,EAAS,IAAI1F,EAAA4F,OACbvB,EAAKjC,SAASsD,EAAOrD,WACrB7B,KAAKiF,QAAQI,KAAKH,GAGnB,OAAOrB,GAGEG,EAAArD,UAAAwD,UAAV,WAEC,IAAK,IADCmB,EAAmBtF,KAAKiF,QAAQM,OAC7BJ,EAAW,EAAGA,EAAIG,IAAaH,EACvCnF,KAAKiF,QAAQE,GAAGzC,SAIRsB,EAAArD,UAAAyD,aAAV,WAEC,IAAK,IADCkB,EAAmBtF,KAAKiF,QAAQM,OAC7BJ,EAAW,EAAGA,EAAIG,IAAaH,EACvCnF,KAAKiF,QAAQE,GAAGd,YAIRL,EAAArD,UAAA2D,SAAV,SAAmBT,EAAyBU,GAA5C,IAAAxE,EAAAC,KACC,OAAO,IAAIwE,IAAIC,OACd,IAAID,IAAIE,KAAK,WAEZ,IAAK,IADCY,EAAmBvF,EAAKkF,QAAQM,OAC7BJ,EAAW,EAAGA,EAAIG,IAAaH,EACvCpF,EAAKkF,QAAQE,GAAGxC,KAAK4B,KAGvBzC,IAAI0D,YAAYC,OAAO5B,EAAMU,EAAgB,EAAI,EAAGC,IAAIkB,OAAOC,cAAc,KAIrE3B,EAAArD,UAAAmE,SAAV,SAAmBjB,EAAyBU,GAA5C,IAAAxE,EAAAC,KACC,OAAO,IAAIwE,IAAIC,OACd,IAAID,IAAIE,KAAK,WAEZ,IAAK,IADCY,EAAmBvF,EAAKkF,QAAQM,OAC7BJ,EAAW,EAAGA,EAAIG,IAAaH,EACvCpF,EAAKkF,QAAQE,GAAGS,KAAKrB,KAGvBzC,IAAI0D,YAAYK,QAAQhC,EAAMU,EAAgB,EAAI,EAAGC,IAAIkB,OAAOC,cAAc,KAejF3B,GAvFgClC,IAAIkD,MAAvBxF,EAAAwE,WAAUA,GAFjBxE,UAAAA,aCAP,IAAOA,SAAP,SAAOA,GAEN,IAAO0C,EAAgBJ,IAAII,cAC3BkD,EAAA,SAAA5B,GAQC,SAAA4B,IAAA,IAAArF,EACCyD,EAAAC,KAAAzD,OAAOA,YAyDAD,EAAA+F,2BAA6B,SAAC5F,GACTH,EAAK8B,UAC5BkE,EAAI7D,EAAc8D,qBAAqBjG,EAAKkG,SAEjD,IAAMC,EAA+BhE,EAAciE,0BAA0BpG,EAAKkG,SAC9EC,GAAyB,GAAKA,GAAyB,EAC1DnG,EAAK4C,OAEL5C,EAAK6F,QAhEN7F,EAAK2D,eAiFP,OA3F4BC,UAAAyB,EAAA5B,GAuBjB4B,EAAAzE,UAAAiD,eAAV,WACC,IAAMC,EAAsB,IAAI7C,SAASoF,MAEzCpG,KAAKqG,OAASvE,IAAIwE,IAAIC,OAAO,GAAI,KACjC,IAAMC,EAAsB3C,EAAK4C,SAKjC,OAJAD,EAAEE,UAAU,KAAO,SAAWC,KAAKC,MAAsB,SAAhBD,KAAKJ,WAAsBM,QAAQ,EAAG,IAC/EL,EAAEM,WAAW,EAAG,EAAG9G,KAAKqG,QACxBG,EAAEO,UAEKlD,GAGEuB,EAAAzE,UAAAwD,UAAV,WACCrC,IAAII,cAAcb,iBAAiBS,IAAIK,mBAAmBC,OAAQpC,KAAK8F,4BAEvE9F,KAAKgH,QAAUlF,IAAIwE,IAAIC,OAAOvG,KAAKqG,OAAQvE,IAAIC,cAAckF,kBAAoBjH,KAAKqG,QACtFrG,KAAKiG,QAAUnE,IAAIwE,IAAIC,OAAOvG,KAAKqG,OAAQvE,IAAIC,cAAcmF,mBAAqBlH,KAAKqG,QAEvF,IAAMxC,EAAsB7D,KAAK6B,UACjCgC,EAAKsD,EAAInH,KAAKgH,QACdnD,EAAKkC,EAAI/F,KAAKiG,SAGLb,EAAAzE,UAAAyD,aAAV,WACCtC,IAAII,cAAckF,oBAAoBtF,IAAIK,mBAAmBC,OAAQpC,KAAK8F,6BAGjEV,EAAAzE,UAAA2D,SAAV,SAAmBT,EAAqBU,GACvC,OAAO,IAAIC,IAAIE,KAAK,WACnBb,EAAKwD,MAAQ,KAILjC,EAAAzE,UAAAmE,SAAV,SAAmBjB,EAAqBU,GACvC,OAAO,IAAIC,IAAIE,KAAK,WACnBb,EAAKwD,MAAQ,MAiChBjC,GA3F4BtD,IAAIkD,MAAnBxF,EAAA4F,OAAMA,GAHb5F,UAAAA,aCAP,IAAOA,SAAP,SAAOA,GAEN,IAAA0E,EAAA,SAAAV,GAQC,SAAAU,IAAA,IAAAnE,EACCyD,EAAAC,KAAAzD,OAAOA,YACPD,EAAK2D,eAyCP,OAnDgCC,UAAAO,EAAAV,GAuBrBU,EAAAvD,UAAAiD,eAAV,WAEC,OADgC,IAAI5C,SAAS8C,WAIpCI,EAAAvD,UAAAwD,UAAV,aAGUD,EAAAvD,UAAAyD,aAAV,aAGUF,EAAAvD,UAAA2D,SAAV,SAAmBT,EAAyBU,GAC3C,OAAOzC,IAAI0D,YAAYC,OAAO5B,EAAMU,EAAgB,EAAI,EAAGC,IAAIkB,OAAOC,cAAc,IAG3EzB,EAAAvD,UAAAmE,SAAV,SAAmBjB,EAAyBU,GAC3C,OAAOzC,IAAI0D,YAAYK,QAAQhC,EAAMU,EAAgB,EAAI,EAAGC,IAAIkB,OAAOC,cAAc,IAYvFzB,GAnDgCpC,IAAIkD,MAAvBxF,EAAA0E,WAAUA,GAFjB1E,UAAAA,aCAP,IAAUA,SAEW,IAFXA,UAAAA,aAEeM,aACZc","file":"main.js","sourcesContent":["/// <reference path=\"../reference.ts\" />\n\nmodule project {\n\n\texport class Config {\n\n\t\t// Debug mode\n\t\tpublic static DEBUG_MODE:boolean = true;\n\n\t\t// Default stage size\n\t\tpublic static DEFAULT_STAGE_W:number = 1920;\n\t\tpublic static DEFAULT_STAGE_H:number = 1080;\n\n\t\t// Frame Rate\n\t\tpublic static FPS:number = 60;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace project {\n\n\texport class Application {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic run():void {\n\t\t\tconsole.log(\"[Application] run\");\n\n\t\t\t// Setup CreateJS\n\t\t\tthis.$canvas = jQuery(\"#stage\");\n\t\t\tthis.stage = new createjs.Stage(this.$canvas.get(0));\n\n\t\t\t// Setup Ticker\n\t\t\tcreatejs.Ticker.framerate = Config.FPS;\n\t\t\tcreatejs.Ticker.addEventListener(\"tick\", this.tickerHandler);\n\n\t\t\t// Setup stats\n\t\t\tif (Config.DEBUG_MODE) {\n\t\t\t\tthis.stats = new Stats();\n\t\t\t\tjQuery(\"body\").append(this.stats.domElement);\n\t\t\t}\n\n\t\t\t// Setup view\n\t\t\tthis.screen = new Screen();\n\t\t\tthis.stage.addChild(this.screen.getView());\n\n\t\t\t// Setup watcher\n\t\t\talm.ResizeWatcher.addEventListener(alm.ResizeWatcherEvent.RESIZE, this.resizeWatcherResizeHandler);\n\t\t\talm.ScrollWatcher.addEventListener(alm.ScrollWatcherEvent.SCROLL, this.scrollWatcherResizeHandler);\n\t\t\talm.KeyWatcher.addEventListener(alm.KeyWatcherEvent.KEY_DOWN, this.keyWatcherResizeHandler);\n\n\t\t\tthis.load();\n\t\t}\n\n\t\tprivate load():void {\n\t\t\talm.ResizeWatcher.apply();\n\t\t\talm.ScrollWatcher.apply();\n\n\t\t\tthis.screen.ready();\n\n\t\t\tthis.screen.show();\n\t\t\tthis.$canvas.css({ display: \"block\" });\n\n\t\t\talm.ResizeWatcher.start();\n\t\t\talm.ScrollWatcher.start();\n\t\t\talm.KeyWatcher.start();\n\n\t\t\tthis.resizeWatcherResizeHandler(null);\n\t\t\tthis.tickerHandler(null);\n\t\t}\n\n\t\tprivate update():void {\n\t\t\tif (Config.DEBUG_MODE) this.stats.begin();\n\t\t\tthis.stage.update();\n\t\t\tif (Config.DEBUG_MODE) this.stats.end();\n\t\t}\n\n\t\tprivate resize():void {\n\t\t\tconst stageWidth:number = alm.ResizeWatcher.getStageWidth();\n\t\t\tconst stageHeight:number = alm.ResizeWatcher.getStageHeight();\n\n\t\t\tthis.$canvas.attr({ width: stageWidth, height: stageHeight });\n\t\t\tthis.$canvas.css({ width: stageWidth, height: stageHeight });\n\t\t}\n\n\n\n\n\n\t\tprivate tickerHandler = (event:createjs.Event):void => {\n\t\t\tthis.update();\n\t\t};\n\n\t\tprivate resizeWatcherResizeHandler = (event:alm.ResizeWatcherEvent):void => {\n\t\t\tthis.resize();\n\t\t};\n\n\t\tprivate scrollWatcherResizeHandler = (event:alm.ScrollWatcherEvent):void => {\n\t\t};\n\n\t\tprivate keyWatcherResizeHandler = (event:alm.KeyWatcherEvent):void => {\n\t\t\tconsole.log(\"[Application] key down : '\" + event.key + \"'\");\n\t\t};\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate stats:Stats;\n\t\tprivate $canvas:JQuery;\n\t\tprivate stage:createjs.Stage;\n\t\tprivate screen:Screen;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nmodule project {\n\n\texport class Screen extends alm.View<createjs.Container> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():createjs.Container {\n\t\t\tconst view:createjs.Container = new createjs.Container();\n\n\t\t\tthis.background = new Background();\n\t\t\tview.addChild(this.background.getView());\n\n\t\t\tthis.foreground = new Foreground();\n\t\t\tview.addChild(this.foreground.getView());\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t\tthis.background.ready();\n\t\t\tthis.foreground.ready();\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\tthis.foreground.finalize();\n\t\t\tthis.background.finalize();\n\t\t}\n\n\t\tprotected implShow(view:createjs.Container, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.visible = true;\n\t\t\t\t}),\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.foreground.getShowCommand(useTransition),\n\t\t\t\t\tthis.background.getShowCommand(useTransition)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tprotected implHide(view:createjs.Container, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.foreground.getHideCommand(useTransition),\n\t\t\t\t\tthis.background.getHideCommand(useTransition)\n\t\t\t\t),\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.visible = false;\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate foreground:Foreground;\n\t\tprivate background:Background;\n\t}\n}","/// <reference path=\"../../reference.ts\" />\n\nmodule project {\n\n\texport class Background extends alm.View<createjs.Container> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():createjs.Container {\n\t\t\tconst view:createjs.Container = new createjs.Container();\n\n\t\t\tthis.circles = [];\n\t\t\tconst numCircle:number = 100;\n\t\t\tlet circle:Circle;\n\t\t\tfor (let i:number = 0; i < numCircle; ++i) {\n\t\t\t\tcircle = new Circle();\n\t\t\t\tview.addChild(circle.getView());\n\t\t\t\tthis.circles.push(circle);\n\t\t\t}\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t\tconst numCircle:number = this.circles.length;\n\t\t\tfor (let i:number = 0; i < numCircle; ++i) {\n\t\t\t\tthis.circles[i].ready();\n\t\t\t}\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\tconst numCircle:number = this.circles.length;\n\t\t\tfor (let i:number = 0; i < numCircle; ++i) {\n\t\t\t\tthis.circles[i].finalize();\n\t\t\t}\n\t\t}\n\n\t\tprotected implShow(view:createjs.Container, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tconst numCircle:number = this.circles.length;\n\t\t\t\t\tfor (let i:number = 0; i < numCircle; ++i) {\n\t\t\t\t\t\tthis.circles[i].show(useTransition);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\talm.CommandUtil.fadeIn(view, useTransition ? 1 : 0, cmd.Easing.easeOutQuart, false)\n\t\t\t);\n\t\t}\n\n\t\tprotected implHide(view:createjs.Container, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tconst numCircle:number = this.circles.length;\n\t\t\t\t\tfor (let i:number = 0; i < numCircle; ++i) {\n\t\t\t\t\t\tthis.circles[i].hide(useTransition);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\talm.CommandUtil.fadeOut(view, useTransition ? 1 : 0, cmd.Easing.easeOutQuart, false)\n\t\t\t);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate circles:Circle[];\n\t}\n}","/// <reference path=\"../../reference.ts\" />\n\nmodule project {\n\n\timport ScrollWatcher = alm.ScrollWatcher;\n\texport class Circle extends alm.View<createjs.Shape> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():createjs.Shape {\n\t\t\tconst view:createjs.Shape = new createjs.Shape();\n\n\t\t\tthis.radius = alm.Num.random(50, 100);\n\t\t\tconst g:createjs.Graphics = view.graphics;\n\t\t\tg.beginFill(\"#\" + (\"000000\" + Math.floor(Math.random() * 0xffffff)).substr(-6, 6));\n\t\t\tg.drawCircle(0, 0, this.radius);\n\t\t\tg.endFill();\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t\talm.ScrollWatcher.addEventListener(alm.ScrollWatcherEvent.SCROLL, this.scrollWatcherScrollHandler);\n\n\t\t\tthis.offsetX = alm.Num.random(this.radius, alm.ResizeWatcher.getContentWidth() - this.radius);\n\t\t\tthis.offsetY = alm.Num.random(this.radius, alm.ResizeWatcher.getContentHeight() - this.radius);\n\n\t\t\tconst view:createjs.Shape = this.getView();\n\t\t\tview.x = this.offsetX;\n\t\t\tview.y = this.offsetY;\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\talm.ScrollWatcher.removeEventListener(alm.ScrollWatcherEvent.SCROLL, this.scrollWatcherScrollHandler);\n\t\t}\n\n\t\tprotected implShow(view:createjs.Shape, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Func(():void => {\n\t\t\t\tview.alpha = 1;\n\t\t\t});\n\t\t}\n\n\t\tprotected implHide(view:createjs.Shape, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Func(():void => {\n\t\t\t\tview.alpha = 0.2;\n\t\t\t});\n\t\t}\n\n\n\n\n\n\t\tprivate scrollWatcherScrollHandler = (event:alm.ScrollWatcherEvent):void => {\n\t\t\tconst view:createjs.Shape = this.getView();\n\t\t\tview.y = ScrollWatcher.calcScrolledPosition(this.offsetY);\n\n\t\t\tconst scrolledPositionRatio:number = ScrollWatcher.calcScrolledPositionRatio(this.offsetY);\n\t\t\tif (scrolledPositionRatio >= 0 && scrolledPositionRatio <= 1) {\n\t\t\t\tthis.show();\n\t\t\t} else {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate radius:number;\n\t\tprivate offsetX:number;\n\t\tprivate offsetY:number;\n\t}\n}","/// <reference path=\"../../reference.ts\" />\n\nmodule project {\n\n\texport class Foreground extends alm.View<createjs.Container> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():createjs.Container {\n\t\t\tconst view:createjs.Container = new createjs.Container();\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:createjs.Container, useTransition:boolean):cmd.Command {\n\t\t\treturn alm.CommandUtil.fadeIn(view, useTransition ? 1 : 0, cmd.Easing.easeOutQuart, false);\n\t\t}\n\n\t\tprotected implHide(view:createjs.Container, useTransition:boolean):cmd.Command {\n\t\t\treturn alm.CommandUtil.fadeOut(view, useTransition ? 1 : 0, cmd.Easing.easeOutQuart, false);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}","/// <reference path=\"reference.ts\" />\n\nnamespace project {\n\n\tconst application = new Application();\n\tapplication.run();\n}"]}